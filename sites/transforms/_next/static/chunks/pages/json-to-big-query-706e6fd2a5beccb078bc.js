_N_E=("object"!==typeof self?self:this.webpackJsonp_N_E="object"!==typeof self?self:this.webpackJsonp_N_E||[]).push([[53],{"1fYD":function(e,t,r){e.exports=function(){var e=function(){var e=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error],t=e.length;return function(r){for(var n=0;n<t;n++)if(e[n]===r)return!0;return!1}}(),t=function(){var t={}.toString;return function(n){var i=t.call(n).slice(8,-1);if(null===n||void 0===n)return i.toLowerCase();var a=r(n);return a&&!e(a)?a.name:i}}();function r(e){return null===e||void 0===e?e:e.constructor}function n(e,n){return(r(n)===String?t:r)(e)===n}function i(e,t){return e instanceof t}function a(e,t){return i(e.prototype,t)}function o(e,t){if(!n(t,Array))throw"Second argument to .any() should be array";for(var r=0;r<t.length;r++)if(n(e,t[r]))return!0;return!1}var u=function(e,t){return 1==arguments.length?r(e):n(t,Array)?o(e,t):n(e,t)};return u.instance=i,u.string=t,u.of=r,u.is=n,u.any=o,u.extension=a,u}()},"Aw/l":function(e,t,r){var n=r("1fYD"),i=r("rL1p"),a={boolean:"String",string:"String",number:"Int32",date:"Date",timestamp:"DateTime",object:"Nested",regexp:"String",undefined:"String",null:"String"},o=function(e){return["CREATE TABLE ",e," ("].join("")},u=function(e,t){return t?[") ENGINE = MergeTree(",t,", (",e,", ",t,"), 8192);"].join(""):[") ENGINE = Memory;"].join("")},s=function(e,t){return["  ",e," ",t,","].join("")};function p(e,t,r){var f,c,l,y,b=t.tableName,m=t.parentTableName,d=t.parentTableId,g=t.parentTableIdType,T=Object.keys(e),h=[],j=[],N=null,v="string";h.push(o(b)),m&&h.push(s(m+"_"+d,a[g]));for(var E=0;E<T.length;E++)("id"===T[E].toLowerCase()||T[E].toLowerCase().indexOf("_id")>-1)&&(e[f=T[E]]=e[T[E]],T[E]=f,N=T[E],v=typeof e[T[E]]);N||(N="id",v=g||v,h.push(s(N,a[v])));for(E=0;E<T.length;E++){if("date"==(y=(l=e[c=T[E]])instanceof Date?"date":n.string(l).toLowerCase())&&!r)r=c;if("undefined"!==y&&(y=i.isTimestamp(l)?"timestamp":y),"function"!==y)if("object"!==y||l.length)if("object"!==y&&"array"!==y)h.push(s(c,a[y]));else{if("object"===typeof l[0]){j.push(""),j.push(p(l[0],{parentTableName:b,parentTableId:N,parentTableIdType:v,tableName:b+"_"+c}).join(""));continue}j.push(""),j.push(p({value:typeof l[0]},{parentTableName:b,parentTableId:N,parentTableIdType:v,tableName:b+"_"+c}).join(""))}else j.push(""),j.push(p(l,{parentTableName:b,parentTableId:N,parentTableIdType:v,tableName:b+"_"+c}).join(""))}return h[h.length-1]=i.arrayLastItem(h).substr(0,i.arrayLastItem(h).length-1),h.push(u(N,r)),h.concat(j)}e.exports=function(e,t,r){return"string"!==typeof e&&(t=e,e="generic"),r||(r=null),p(t,{tableName:e},r).join("")}},IYS3:function(e,t,r){var n=r("rL1p");function i(e){return Array.isArray(e)?"REPEATED":"NULLABLE"}function a(e){if(Array.isArray(e))return a(e[0]);if(e instanceof Date)return"TIMESTAMP";if("object"===typeof e)return"RECORD";if("boolean"===typeof e)return"BOOLEAN";if("string"===typeof e){if(n.isDateString(e))return"DATE";if(n.isTimestamp(e))return"TIMESTAMP"}return isNaN(e)?"STRING":Number.isInteger(parseFloat(e))?"INTEGER":"FLOAT"}function o(e){return Object.keys(e).map((function(t){var r=e[t],n={name:t,type:a(e[t]),mode:i(e[t])};return"RECORD"===n.type&&(n.fields=o("REPEATED"===n.mode?r[0]:r)),n}))}e.exports=function(e){return o(e)}},JeW5:function(e,t,r){t.generic=r("NekS"),t.mongoose=r("yhns"),t.bigquery=r("IYS3"),t.mysql=r("TQoY"),t.json=r("TR5Q"),t.clickhouse=r("Aw/l")},NekS:function(e,t,r){var n=r("1fYD"),i=r("rL1p");e.exports=function e(t,r){for(var a in r=r||{},t){var o=t[a],u=n.string(o).toLowerCase();"undefined"===u&&(u="null"),"string"===u&&i.isDate(o)&&(u="date"),"object"!==u?r[a]={type:u}:(r[a]=e(t[a]),r[a].type=u)}return r}},O6kJ:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r("nKUr"),i=r("vJKn"),a=r.n(i),o=r("rg98"),u=r("sN8P"),s=r("q1tI"),p=r("JeW5"),f=r.n(p);function c(){var e=Object(s.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,e.abrupt("return",JSON.stringify(f.a.bigquery(JSON.parse(r)),null,2));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.jsx)(u.a,{transformer:e,editorTitle:"JSON",editorLanguage:"json",resultTitle:"Big Query Schema",resultLanguage:"json"})}},TQoY:function(e,t,r){var n=r("1fYD"),i=r("rL1p"),a={boolean:"BOOLEAN",string:"TEXT",number:"INT",date:"DATE",timestamp:"TIMESTAMP",regexp:"TEXT",undefined:"TEXT",null:"TEXT"},o=function(e){return["CREATE TABLE ",e," ("].join("")},u=function(){return");"},s=function(e,t){return["  ",e," ",t,","].join("")},p=function(e){return["  PRIMARY KEY (",e,"),"].join("")},f=function(e,t,r){return["  FOREIGN KEY (",e,") REFERENCES ",t,"(",r,"),"].join("")};function c(e,t){var r,l,y,b,m=t.tableName,d=t.parentTableName,g=t.parentTableId,T=t.parentTableIdType,h=Object.keys(e),j=[],N=[],v=null,E="string";j.push(o(m)),d&&j.push(s(d+"_"+g,a[T]));for(var I=0;I<h.length;I++)("id"===h[I].toLowerCase()||h[I].toLowerCase().indexOf("_id")>-1)&&(e[r=h[I]]=e[h[I]],h[I]=r,v=h[I],E=typeof e[h[I]]);v||(v="id",E=T||E,j.push(s(v,a[E])));for(I=0;I<h.length;I++)if("undefined"!==(b=(y=e[l=h[I]])instanceof Date?"date":n.string(y).toLowerCase())&&(b=i.isTimestamp(y)?"timestamp":b),"function"!==b)if("object"!==b||y.length)if("object"!==b&&"array"!==b)j.push(s(l,a[b]));else{if("object"===typeof y[0]){N.push(""),N.push(c(y[0],{parentTableName:m,parentTableId:v,parentTableIdType:E,tableName:m+"_"+l}).join("\n"));continue}N.push(""),N.push(c({value:typeof y[0]},{parentTableName:m,parentTableId:v,parentTableIdType:E,tableName:m+"_"+l}).join("\n"))}else N.push(""),N.push(c(y,{parentTableName:m,parentTableId:v,parentTableIdType:E,tableName:m+"_"+l}).join("\n"));return j.push(p(v)),d&&j.push(f(d+"_id",d,g)),j[j.length-1]=i.arrayLastItem(j).substr(0,i.arrayLastItem(j).length-1),j.push(u()),j.concat(N)}e.exports=function(e,t){return"string"!==typeof e&&(t=e,e="generic"),c(t,{tableName:e}).join("\n")}},TR5Q:function(e,t,r){var n=r("1fYD");function i(e){return"date"===n.string(e).toLowerCase()?"date-time":null}function a(e){var t=n.string(e).toLowerCase();return"date"===t||"regexp"===t||"function"===t?"string":t}function o(e,t,r){var n,i,a;e=Object.keys(e),r=r||[];for(var o=0,u=(t=Object.keys(t)).length;o<u;o++)n=t[o],a=e.indexOf(n),i=r.indexOf(n),-1===a?-1!==i&&r.splice(i,1):-1===i&&r.push(n);return r}function u(e,t,r){var p,f,c;r&&t?t={items:t}:((t=t||{}).type=a(e),t.items=t.items||{},c=t.items.type||null);for(var l=0,y=e.length;l<y;l++){var b=a(e[l]),m=i(e[l]);if(c&&b!==c){t.items.oneOf=[],f=!0;break}c=b,p=m}if(!f&&c?(t.items.type=c,p&&(t.items.format=p)):f&&"object"!==c&&(t.items={oneOf:[{type:c}],required:t.items.required}),"undefined"!==typeof t.items.oneOf||"object"===c)for(var d=0,g=e.length;d<g;d++){var T,h=e[d],j=a(h),N=i(h);if("object"===j?(t.items.properties&&(t.items.required=o(t.items.properties,h,t.items.required)),T=s(h,f?{}:t.items.properties,!0)):"array"===j?T=u(h,f?{}:t.items.properties,!0):((T={}).type=j,N&&(T.format=N)),f){var v=n.string(h).toLowerCase(),E={};T.type||"object"!==v||(E.properties=T,E.type="object",T=E),t.items.oneOf.push(T)}else{if("object"!==t.items.type)continue;t.items.properties=T}}return r?t.items:t}function s(e,t,r){for(var n in r&&t?t={properties:t}:((t=t||{}).type=a(e),t.properties=t.properties||{}),e){var o=e[n],p=a(o),f=i(o);if("object"!==(p="undefined"===p?"null":p))if("array"!==p)if(t.properties[n]){var c=t.properties[n],l=Array.isArray(c.type);l&&c.type.indexOf(p)<0&&c.type.push(p),l||c.type===p||(c.type=[c.type,p])}else t.properties[n]={},t.properties[n].type=p,f&&(t.properties[n].format=f);else t.properties[n]=u(o,t.properties[n]);else t.properties[n]=s(o,t.properties[n])}return r?t.properties:t}e.exports=function(e,t){var r,i={$schema:"http://json-schema.org/draft-04/schema#"};return"string"!==typeof e?(t=e,e=void 0):i.title=e,i.type=n.string(t).toLowerCase(),"object"===i.type&&(r=s(t),i.type=r.type,i.properties=r.properties),"array"===i.type&&(r=u(t),i.type=r.type,i.items=r.items,i.title&&(i.items.title=i.title,i.title+=" Set")),i}},kRKe:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/json-to-big-query",function(){return r("O6kJ")}])},rL1p:function(e,t){var r=/\d{4}-\d{2}-\d{2}/;t.isNumber=function(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)},t.isDate=function(e){return"Invalid Date"!==new Date(e).toString()&&!isNaN(new Date(e))},t.isTimestamp=function(e){return e.length>18&&!isNaN(new Date(e).getTime())},t.isDateString=function(e){return e.match(r)},t.arrayLastItem=function(e){return e[e.length-1]}},yhns:function(e,t,r){(function(t){var n=r("1fYD"),i=r("rL1p");function a(e){switch(e){case"array":return"Array";case"buffer":return"Buffer";case"boolean":return"Boolean";case"date":return"Date";case"number":return"Number";case"string":return"String";case"objectid":return"ObjectId";case"null":case"undefined":case"regexp":default:return"Mixed"}}e.exports=function e(r,o){o=o||{};for(var u in r){var s=r[u],p=null,f=null,c=null;if(s instanceof t&&(c="buffer"),null!=s&&"undefined"!==typeof s.toString&&s.toString().match(/^[0-9a-fA-F]{24}$/)&&(c="objectid"),c||(c=n.string(s).toLowerCase()),"string"===c&&i.isDate(s)&&(c="date"),"object"===c)o[u]=e(r[u]);else{if("undefined"===c&&(c="null"),"array"===c&&s.length){p=c,c=void 0;for(var l=0,y=s.length;l<y;l++){if(f=n.string(s[l]).toLowerCase(),c&&f!==c){c="mixed";break}c=f}}o[u]=p&&"array"===p?{type:[a(c)]}:{type:a(c)}}}return o}}).call(this,r("HDXh").Buffer)}},[["kRKe",1,2,0,3,4]]]);